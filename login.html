<!DOCTYPE html>
<html>
<head>
    <title>Login - HIGH STREET</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<h1 class="logo"><a href="index.html">HIGH <span>STREET</span></a></h1>
<hr>

<nav>
    <a href="index.html">Home</a>
    <a href="men.html">Men</a>
    <a href="women.html">Women</a>
    <span id="authLinks"></span>
</nav>

<hr>

<h2 class="section-title">User Login</h2>

<div class="form-container">

    <!-- ❌ removed action -->
    <form class="login-form" id="loginForm">

        <label>Email Address</label>
        <input type="email" id="email" placeholder="Enter email" required>

        <label>Password</label>
        <input type="password" id="password" placeholder="Enter password" required>

        <button type="submit">Login</button>

        <!-- ✅ message -->
        <p id="message" style="margin-top:10px;"></p>

        <p class="form-link">
            Don’t have an account?
            <a href="register.html">Register here</a>
        </p>

    </form>

</div>

<hr>

<footer class="footer">
    <div class="footer-section">
        <h3>Company</h3>
        <a href="about.html">About Us</a>
        <a href="#">Help</a>
        <a href="#">Terms & Conditions</a>
    </div>

    <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="#">My Account</a>
        <a href="#">Order Tracking</a>
        <a href="#">Returns & Exchange</a>
    </div>
</footer>

<p class="copyright">
    ©️ 2025 Style Hub. All Rights Reserved.
</p>

<!-- ✅ Supabase library -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>

<!-- ✅ Supabase Login Logic -->
<script>
    const SUPABASE_URL = "https://lnjkpbbjzjrpuwhmbqkd.supabase.co";
    const SUPABASE_ANON_KEY = "PASTE_YOUR_ANON_KEY_HERE";

    const supabase = supabaseLib.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const form = document.getElementById("loginForm");
    const message = document.getElementById("message");

    form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;

        message.style.color = "black";
        message.textContent = "Logging in...";

        const { error } = await supabase.auth.signInWithPassword({
            email: email,
            password: password
        });

        if (error) {
            message.style.color = "red";
            message.textContent = error.message;
        } else {
            message.style.color = "green";
            message.textContent = "Login successful! Redirecting...";
            setTimeout(() => {
                window.location.href = "index.html";
            }, 1000);
        }
    });
</script>

</body>
</html>

