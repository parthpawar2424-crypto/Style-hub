<!DOCTYPE html>
<html>
<head>
    <title>Register - Style Hub</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<h1 class="logo"><a href="index.html">Style <span>Hub</span></a></h1>
<hr>

<nav>
    <a href="index.html">Home</a>
    <a href="men.html">Men</a>
    <a href="women.html">Women</a>
    <span id="authLinks"></span>
</nav>

<hr>

<h2 class="section-title">User Registration</h2>

<div class="form-container">

    <!-- ❌ removed action attribute -->
    <form class="register-form" id="registerForm">

        <label>Full Name</label>
        <input type="text" id="fullName" placeholder="Enter full name" required>

        <label>Email Address</label>
        <input type="email" id="email" placeholder="Enter email" required>

        <label>Username</label>
        <input type="text" placeholder="Choose username" required>

        <label>Password</label>
        <input type="password" id="password" placeholder="Enter password" required>

        <label>Confirm Password</label>
        <input type="password" id="confirmPassword" placeholder="Confirm password" required>

        <button type="submit">Register</button>

        <!-- ✅ message area -->
        <p id="message" style="margin-top:10px;"></p>

        <p class="form-link">
            Already have an account?
            <a href="login.html">Login here</a>
        </p>

    </form>

</div>

<hr>

<footer class="footer">
    <div class="footer-section">
        <h3>Company</h3>
        <a href="about.html">About Us</a>
        <a href="#">Help</a>
        <a href="#">Terms & Conditions</a>
    </div>

    <div class="footer-section">
        <h3>Quick Links</h3>
        <a href="#">My Account</a>
        <a href="#">Order Tracking</a>
        <a href="#">Returns & Exchange</a>
    </div>
</footer>

<p class="copyright">
    ©️ 2025 Style Hub. All Rights Reserved.
</p>

<!-- ✅ Supabase library -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js/dist/umd/supabase.min.js"></script>

<!-- ✅ Supabase Register Logic -->
<script>
    const SUPABASE_URL = "https://lnjkpbbjzjrpuwhmbqkd.supabase.co";
    const SUPABASE_ANON_KEY = "PASTE_YOUR_ANON_KEY_HERE";

    const supabase = supabaseLib.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

    const form = document.getElementById("registerForm");
    const message = document.getElementById("message");

    form.addEventListener("submit", async function (e) {
        e.preventDefault();

        const fullName = document.getElementById("fullName").value;
        const email = document.getElementById("email").value;
        const password = document.getElementById("password").value;
        const confirmPassword = document.getElementById("confirmPassword").value;

        if (password !== confirmPassword) {
            message.style.color = "red";
            message.textContent = "Passwords do not match";
            return;
        }

        message.style.color = "black";
        message.textContent = "Registering user...";

        const { error } = await supabase.auth.signUp({
            email: email,
            password: password,
            options: {
                data: {
                    full_name: fullName
                }
            }
        });

        if (error) {
            message.style.color = "red";
            message.textContent = error.message;
        } else {
            message.style.color = "green";
            message.textContent =
                "Registration successful! Please check your email to verify.";
            form.reset();
        }
    });
</script>

</body>
</html>

